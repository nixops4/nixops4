<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Resource Protocol Schema - NixOps4 Reference Manual</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">NixOps4 Reference Manual</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/nixops4/nixops4" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/nixops4/nixops4/tree/master/doc/manual/src/schema/resource-v0.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="schema-content">
<h2 id="raw-json-schema"><a class="header" href="#raw-json-schema">Raw JSON schema</a></h2>
<p><a href="resource-schema-v0.json">Open JSON schema file</a></p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="createresourcerequest"><a class="header" href="#createresourcerequest">CreateResourceRequest</a></h3>
<pre><code class="language-json">{
  "type": "file",
  "inputProperties": {
    "path": "pubkey.txt",
    "content": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQD"
  }
}
</code></pre>
<h3 id="createresourceresponse"><a class="header" href="#createresourceresponse">CreateResourceResponse</a></h3>
<pre><code class="language-json">{
  "outputProperties": {
    "id": "vm-12w94ty8",
    "interfaces": {
      "eth0": {
        "ipv4": "198.51.100.11"
      }
    }
  }
}
</code></pre>
<!-- Section ends. This generated file start withs its own header: -->
<h2 id="nixops4-resource-protocol-schema"><a class="header" href="#nixops4-resource-protocol-schema">NixOps4 Resource Protocol Schema</a></h2>
<p><a href="resource-schema-v0.json">Raw JSON schema</a></p>
<ul>
<li><a href="#oneOf_i0">1. Property <code>CreateResourceRequest</code></a>
<ul>
<li><a href="#oneOf_i0_type">1.1. Property <code>type</code></a></li>
<li><a href="#oneOf_i0_inputProperties">1.2. Property <code>inputProperties</code></a></li>
</ul>
</li>
<li><a href="#oneOf_i1">2. Property <code>CreateResourceResponse</code></a>
<ul>
<li><a href="#oneOf_i1_outputProperties">2.1. Property <code>outputProperties</code></a></li>
</ul>
</li>
</ul>
<p><strong>Title:</strong> NixOps4 Resource Protocol Schema</p>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Type</strong></td><td><code>combining</code></td></tr>
<tr><td><strong>Required</strong></td><td>No</td></tr>
<tr><td><strong>Additional properties</strong></td><td>Any type allowed</td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> This schema describes the protocol between NixOps4 and a resource provider. See doc/developing-resources.md for more information.</p>
<div class="table-wrapper"><table><thead><tr><th>One of(Option)</th></tr></thead><tbody>
<tr><td><a href="#oneOf_i0">CreateResourceRequest</a></td></tr>
<tr><td><a href="#oneOf_i1">CreateResourceResponse</a></td></tr>
</tbody></table>
</div>
<h3 id="1-property-createresourcerequest"><a class="header" href="#1-property-createresourcerequest"><a id="oneOf_i0"></a>1. Property <code>CreateResourceRequest</code></a></h3>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Type</strong></td><td><code>object</code></td></tr>
<tr><td><strong>Required</strong></td><td>No</td></tr>
<tr><td><strong>Additional properties</strong></td><td>Not allowed</td></tr>
<tr><td><strong>Defined in</strong></td><td>#/definitions/CreateResourceRequest</td></tr>
</tbody></table>
</div><div class="table-wrapper"><table><thead><tr><th>Property</th><th>Type</th><th>Pattern</th><th>Title/Description</th></tr></thead><tbody>
<tr><td>+ <a href="#oneOf_i0_type">type</a></td><td>string</td><td>No</td><td>Provider-defined resource type</td></tr>
<tr><td>+ <a href="#oneOf_i0_inputProperties">inputProperties</a></td><td>object</td><td>No</td><td>Input properties</td></tr>
</tbody></table>
</div>
<h4 id="11-property-type"><a class="header" href="#11-property-type"><a id="oneOf_i0_type"></a>1.1. Property <code>type</code></a></h4>
<p><strong>Title:</strong> Provider-defined resource type</p>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Type</strong></td><td><code>string</code></td></tr>
<tr><td><strong>Required</strong></td><td>Yes</td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The type of the resource to create. The resource provider uses this to distinguish between different types of resources that it manages. Furthermore, the type will be shown to the user.</p>
<h4 id="12-property-inputproperties"><a class="header" href="#12-property-inputproperties"><a id="oneOf_i0_inputProperties"></a>1.2. Property <code>inputProperties</code></a></h4>
<p><strong>Title:</strong> Input properties</p>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Type</strong></td><td><code>object</code></td></tr>
<tr><td><strong>Required</strong></td><td>Yes</td></tr>
<tr><td><strong>Additional properties</strong></td><td>Any type allowed</td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> Arbitrary fields that make up the input properties. The set of valid fields is determined by the resource provider implementation. If any unrecognized fields are present, the resource provider must not proceed and return an error.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Type</th><th>Pattern</th><th>Title/Description</th></tr></thead><tbody>
<tr><td>-</td><td>object</td><td>No</td><td>-</td></tr>
</tbody></table>
</div>
<h3 id="2-property-createresourceresponse"><a class="header" href="#2-property-createresourceresponse"><a id="oneOf_i1"></a>2. Property <code>CreateResourceResponse</code></a></h3>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Type</strong></td><td><code>object</code></td></tr>
<tr><td><strong>Required</strong></td><td>No</td></tr>
<tr><td><strong>Additional properties</strong></td><td>Not allowed</td></tr>
<tr><td><strong>Defined in</strong></td><td>#/definitions/CreateResourceResponse</td></tr>
</tbody></table>
</div><div class="table-wrapper"><table><thead><tr><th>Property</th><th>Type</th><th>Pattern</th><th>Title/Description</th></tr></thead><tbody>
<tr><td>+ <a href="#oneOf_i1_outputProperties">outputProperties</a></td><td>object</td><td>No</td><td>Output properties</td></tr>
</tbody></table>
</div>
<h4 id="21-property-outputproperties"><a class="header" href="#21-property-outputproperties"><a id="oneOf_i1_outputProperties"></a>2.1. Property <code>outputProperties</code></a></h4>
<p><strong>Title:</strong> Output properties</p>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Type</strong></td><td><code>object</code></td></tr>
<tr><td><strong>Required</strong></td><td>Yes</td></tr>
<tr><td><strong>Additional properties</strong></td><td>Any type allowed</td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The properties of the created resource. The resource provider may return additional properties that are not defined in the resource type schema. It is not recommended to return verbatim inputProperties here, because that invites a dependency on the provider for information that is already known, deteriorating the user experience; concurrency, completeness of plan, unnecessary strictness, etc.</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Type</th><th>Pattern</th><th>Title/Description</th></tr></thead><tbody>
<tr><td>-</td><td>object</td><td>No</td><td>-</td></tr>
</tbody></table>
</div>
<hr />
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../modules/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../architecture/nixops-components.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../modules/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../architecture/nixops-components.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
